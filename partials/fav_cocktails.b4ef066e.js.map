{"mappings":"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","sources":["src/js/fav_cocktails.js"],"sourcesContent":["import '../partials/components/switcher_theme_button/switcher_theme_button.ts';\nimport './add-remove-fav';\nimport { ADD_BTN, REMOVE_BTN, LEARN_MORE_BTN } from './constants.js';\n// import './fav-cocktails_pagintaion.js'\nimport './header';\n\nconst favCocktailsList = document.querySelector('.random-cocktail__list');\nconst headerForm = document.querySelector('.header-form');\nconst burgerForm = document.querySelector('.burger-form');\nconst mobileMenu = document.querySelector('.mobile-menu');\nconst closeModalBtn = document.querySelector('.burger-menu-btn');\nconst scrollTarget = document.querySelector('.fav-cocktails__title');\n\nwindow.onload = renderCocktailsBySD();\n\nshowDefaultText();\n\nfavCocktailsList.addEventListener('click', onRemoveBtnClick);\nheaderForm.addEventListener('submit', onSubmitBtnClick);\nburgerForm.addEventListener('submit', onBurgerSubmitBtnClick);\n\nfunction onRemoveBtnClick(ev) {\n  const liChildrenCount = Array.from(favCocktailsList.children).length;\n\n  if (\n    ev.target.closest('.btn-primary') && // Якщо closest знаходить btn-primary\n    ev.target.closest('.btn-primary').classList.contains('btn-remove-from')\n  ) {\n    ev.target.closest('.random-cocktail__item').remove();\n    if (liChildrenCount === 0) {\n      document\n        .querySelector('.fav-cocktails__default-text')\n        .removeAttribute('hidden');\n      document.querySelector('.fav-content__wrapper').style.display = 'block';\n    }\n  }\n}\n\nfunction onSubmitBtnClick(ev) {\n  ev.preventDefault();\n\n  const headerFormValue = headerForm.headerinput.value.toLowerCase();\n  const cocktailsSDArr = getCocktailsBySD();\n\n  const collectedWordsArray = cocktailsSDArr.map(cocktail => {\n    let drinkName = cocktail.strDrink.toLowerCase();\n\n    return drinkName.split(' ');\n  });\n\n  let cocktailsToParse = [];\n\n  collectedWordsArray.forEach((wordsArr, wordsArrIndex) => {\n    for (let word of wordsArr) {\n      if (headerFormValue.split(' ').includes(word)) {\n        cocktailsToParse.push(wordsArrIndex);\n      }\n    }\n  });\n\n  let cocktailsArr = [];\n\n  for (let cocktailIndex of cocktailsToParse) {\n    cocktailsArr.push(cocktailsSDArr[cocktailIndex]);\n  }\n\n  document.querySelector('.random-cocktail__list').innerHTML = '';\n\n  if (cocktailsArr.length === 0) {\n    document\n      .querySelector('.fav-cocktails__default-text')\n      .removeAttribute('hidden');\n    document.querySelector('.fav-content__wrapper').style.display = 'block';\n    return;\n  } else {\n    document.querySelector('.fav-content__wrapper').style.display = 'none';\n  }\n\n  const cocktailElementsArr = createElements(cocktailsArr);\n\n  document\n    .querySelector('.random-cocktail__list')\n    .insertAdjacentHTML('beforeend', cocktailElementsArr.join(''));\n  document.getElementById('content').removeAttribute('hidden');\n}\n\nfunction onBurgerSubmitBtnClick(ev) {\n  ev.preventDefault();\n\n  const burgerFormValue = burgerForm.burgerinput.value.toLowerCase();\n  const cocktailsSDArr = getCocktailsBySD();\n\n  const collectedWordsArray = cocktailsSDArr.map(cocktail => {\n    let drinkName = cocktail.strDrink.toLowerCase();\n\n    return drinkName.split(' ');\n  });\n\n  let cocktailsToParse = [];\n\n  collectedWordsArray.forEach((wordsArr, wordsArrIndex) => {\n    for (let word of wordsArr) {\n      if (burgerFormValue.split(' ').includes(word)) {\n        cocktailsToParse.push(wordsArrIndex);\n      }\n    }\n  });\n\n  let cocktailsArr = [];\n\n  for (let cocktailIndex of cocktailsToParse) {\n    cocktailsArr.push(cocktailsSDArr[cocktailIndex]);\n  }\n\n  document.querySelector('.random-cocktail__list').innerHTML = '';\n\n  if (cocktailsArr.length === 0) {\n    document\n      .querySelector('.fav-cocktails__default-text')\n      .removeAttribute('hidden');\n    document.querySelector('.fav-content__wrapper').style.display = 'block';\n    return;\n  } else {\n    document.querySelector('.fav-content__wrapper').style.display = 'none';\n  }\n\n  const cocktailElementsArr = createElements(cocktailsArr);\n\n  document\n    .querySelector('.random-cocktail__list')\n    .insertAdjacentHTML('beforeend', cocktailElementsArr.join(''));\n  document.getElementById('content').removeAttribute('hidden');\n\n  mobileMenu.classList.remove('is-open');\n  closeModalBtn.classList.remove('is-open');\n\n  scrollTarget.scrollIntoView({ behavior: 'smooth' });\n}\n\nfunction showDefaultText() {\n  favCocktailsList.addEventListener('click', onRemoveBtnClick);\n\n  function onRemoveBtnClick(ev) {\n    if (\n      ev.target.closest('.btn-primary') && // Якщо closest знаходить btn-primary\n      ev.target.closest('.btn-primary').classList.contains('btn-remove-from')\n    ) {\n      ev.target.closest('.random-cocktail__item').remove();\n      if (getCocktailsBySD().length === 1) {\n        document\n          .querySelector('.fav-cocktails__default-text')\n          .removeAttribute('hidden');\n        document.querySelector('.fav-content__wrapper').style.display = 'block';\n      }\n    }\n  }\n}\n\nexport function getCocktailsBySD() {\n  return JSON.parse(localStorage.getItem('favCocktails'));\n}\n\nfunction renderCocktailsBySD() {\n  const cocktailsArr = getCocktailsBySD();\n  if (cocktailsArr.length === 0) {\n    document\n      .querySelector('.fav-cocktails__default-text')\n      .removeAttribute('hidden');\n    document.querySelector('.fav-content__wrapper').style.display = 'block';\n    return;\n  } else {\n    document.querySelector('.fav-content__wrapper').style.display = 'none';\n  }\n\n  const cocktailElementsArr = createElements(cocktailsArr);\n\n  document\n    .querySelector('.random-cocktail__list')\n    .insertAdjacentHTML('beforeend', cocktailElementsArr.join(''));\n  document.getElementById('content').removeAttribute('hidden');\n}\n\nfunction createElements(cocktails) {\n  const elementsArr = cocktails.map(cocktail => {\n    return createPic(cocktail);\n  });\n\n  return elementsArr;\n}\n\nfunction createPic(picture) {\n  if (localStorage.getItem('favCocktails').includes(`${picture.idDrink}`)) {\n    return `<li class=\"random-cocktail__item\" id=\"${picture.idDrink}\">\n  <img class=\"random-cocktail__image\" src=\"${picture.strDrinkThumb}\" alt=\"${picture.strCategory}\" loading=\"lazy\" width=0 heigth=0/><h3 class=\"random-cocktail__uppertext theme_text_color\" name=\"cocktailName\">${picture.strDrink}</h3><div class=\"random-cocktail__btn\">${LEARN_MORE_BTN}${REMOVE_BTN}</div></li></div></div>`;\n  } else {\n    return `<li class=\"random-cocktail__item\" id=\"${picture.idDrink}\">\n  <img class=\"random-cocktail__image\" src=\"${picture.strDrinkThumb}\" alt=\"${picture.strCategory}\" loading=\"lazy\" width=0 heigth=0/><h3 class=\"random-cocktail__uppertext theme_text_color\" name=\"cocktailName\">${picture.strDrink}</h3><div class=\"random-cocktail__btn\">${LEARN_MORE_BTN}${ADD_BTN}</div></li></div></div>`;\n  }\n}\n"],"names":["parcelRequire","$0add6f624dcca65e$var$favCocktailsList","document","querySelector","$0add6f624dcca65e$var$headerForm","$0add6f624dcca65e$var$burgerForm","$0add6f624dcca65e$var$mobileMenu","$0add6f624dcca65e$var$closeModalBtn","$0add6f624dcca65e$var$scrollTarget","$0add6f624dcca65e$export$609daad9d42484c8","JSON","parse","localStorage","getItem","$0add6f624dcca65e$var$createElements","cocktails","map","cocktail","picture","includes","idDrink","strDrinkThumb","strCategory","strDrink","$8G1wF","LEARN_MORE_BTN","REMOVE_BTN","ADD_BTN","window","onload","cocktailsArr","length","removeAttribute","style","display","cocktailElementsArr","insertAdjacentHTML","join","getElementById","$0add6f624dcca65e$var$renderCocktailsBySD","addEventListener","ev","target","closest","classList","contains","remove","liChildrenCount","Array","from","children","preventDefault","headerFormValue","headerinput","value","toLowerCase","cocktailsSDArr","collectedWordsArray","split","cocktailsToParse","forEach","wordsArr","wordsArrIndex","word","push","cocktailIndex","innerHTML","burgerFormValue","burgerinput","scrollIntoView","behavior"],"version":3,"file":"fav_cocktails.b4ef066e.js.map"}