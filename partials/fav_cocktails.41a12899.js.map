{"mappings":"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","sources":["src/js/fav_cocktails.js"],"sourcesContent":["import '../partials/components/switcher_theme_button/switcher_theme_button.ts';\nimport './add-remove-fav';\nimport { ADD_BTN, REMOVE_BTN, LEARN_MORE_BTN } from './constants.js';\nimport './header';\n\nconst favCocktailsList = document.querySelector('.random-cocktail__list');\nconst headerForm = document.querySelector('.header-form');\nconst burgerForm = document.querySelector('.burger-form');\nconst mobileMenu = document.querySelector('.mobile-menu');\nconst closeModalBtn = document.querySelector('.burger-menu-btn');\nconst scrollTarget = document.querySelector('.fav-cocktails__title');\n\nwindow.onload = renderCocktailsBySD();\n\nshowDefaultText();\n\nfavCocktailsList.addEventListener('click', onRemoveBtnClick);\nheaderForm.addEventListener('submit', onSubmitBtnClick);\nburgerForm.addEventListener('submit', onBurgerSubmitBtnClick);\n\nfunction onRemoveBtnClick(ev) {\n  const liChildrenCount = Array.from(favCocktailsList.children).length;\n\n  if (\n    ev.target.closest('.btn-primary') && // Якщо closest знаходить btn-primary\n    ev.target.closest('.btn-primary').classList.contains('btn-remove-from')\n  ) {\n    ev.target.closest('.random-cocktail__item').remove();\n    if (liChildrenCount === 0) {\n      document\n        .querySelector('.fav-cocktails__default-text')\n        .removeAttribute('hidden');\n      document.querySelector('.fav-content__wrapper').style.display = 'block';\n    }\n  }\n}\n\nfunction onSubmitBtnClick(ev) {\n  ev.preventDefault();\n\n  const headerFormValue = headerForm.headerinput.value.toLowerCase();\n  const cocktailsSDArr = getCocktailsBySD();\n\n  const collectedWordsArray = cocktailsSDArr.map(cocktail => {\n    let drinkName = cocktail.strDrink.toLowerCase();\n\n    return drinkName.split(' ');\n  });\n\n  let cocktailsToParse = [];\n\n  collectedWordsArray.forEach((wordsArr, wordsArrIndex) => {\n    for (let word of wordsArr) {\n      if (headerFormValue.split(' ').includes(word)) {\n        cocktailsToParse.push(wordsArrIndex);\n        break;\n      }\n    }\n  });\n\n  let cocktailsArr = cocktailsToParse.map(\n    cocktailIndex => cocktailsSDArr[cocktailIndex]\n  );\n\n  document.querySelector('.random-cocktail__list').innerHTML = '';\n\n  if (cocktailsArr.length === 0) {\n    document\n      .querySelector('.fav-cocktails__default-text')\n      .removeAttribute('hidden');\n    document.querySelector('.fav-content__wrapper').style.display = 'block';\n    return;\n  } else {\n    document.querySelector('.fav-content__wrapper').style.display = 'none';\n  }\n\n  const cocktailElementsArr = createElements(cocktailsArr);\n\n  document\n    .querySelector('.random-cocktail__list')\n    .insertAdjacentHTML('beforeend', cocktailElementsArr.join(''));\n  document.getElementById('content').removeAttribute('hidden');\n}\n\nfunction onBurgerSubmitBtnClick(ev) {\n  ev.preventDefault();\n\n  const burgerFormValue = burgerForm.burgerinput.value.toLowerCase();\n  const cocktailsSDArr = getCocktailsBySD();\n\n  const collectedWordsArray = cocktailsSDArr.map(cocktail => {\n    let drinkName = cocktail.strDrink.toLowerCase();\n\n    return drinkName.split(' ');\n  });\n\n  let cocktailsToParse = [];\n\n  collectedWordsArray.forEach((wordsArr, wordsArrIndex) => {\n    for (let word of wordsArr) {\n      if (burgerFormValue.split(' ').includes(word)) {\n        cocktailsToParse.push(wordsArrIndex);\n        break;\n      }\n    }\n  });\n  \n  let cocktailsArr = cocktailsToParse.map(cocktailIndex => cocktailsSDArr[cocktailIndex]);\n\n  document.querySelector('.random-cocktail__list').innerHTML = '';\n\n  if (cocktailsArr.length === 0) {\n    document\n      .querySelector('.fav-cocktails__default-text')\n      .removeAttribute('hidden');\n    document.querySelector('.fav-content__wrapper').style.display = 'block';\n    return;\n  } else {\n    document.querySelector('.fav-content__wrapper').style.display = 'none';\n  }\n\n  const cocktailElementsArr = createElements(cocktailsArr);\n\n  document\n    .querySelector('.random-cocktail__list')\n    .insertAdjacentHTML('beforeend', cocktailElementsArr.join(''));\n  document.getElementById('content').removeAttribute('hidden');\n\n  mobileMenu.classList.remove('is-open');\n  closeModalBtn.classList.remove('is-open');\n\n  scrollTarget.scrollIntoView({ behavior: 'smooth' });\n}\n\nfunction showDefaultText() {\n  favCocktailsList.addEventListener('click', onRemoveBtnClick);\n\n  function onRemoveBtnClick(ev) {\n    if (\n      ev.target.closest('.btn-primary') && // Якщо closest знаходить btn-primary\n      ev.target.closest('.btn-primary').classList.contains('btn-remove-from')\n    ) {\n      ev.target.closest('.random-cocktail__item').remove();\n      if (getCocktailsBySD().length === 1) {\n        document\n          .querySelector('.fav-cocktails__default-text')\n          .removeAttribute('hidden');\n        document.querySelector('.fav-content__wrapper').style.display = 'block';\n      }\n    }\n  }\n}\n\nexport function getCocktailsBySD() {\n  return JSON.parse(localStorage.getItem('favCocktails'));\n}\n\nfunction renderCocktailsBySD() {\n  const cocktailsArr = getCocktailsBySD();\n  if (cocktailsArr.length === 0) {\n    document\n      .querySelector('.fav-cocktails__default-text')\n      .removeAttribute('hidden');\n    document.querySelector('.fav-content__wrapper').style.display = 'block';\n    return;\n  } else {\n    document.querySelector('.fav-content__wrapper').style.display = 'none';\n  }\n\n  const cocktailElementsArr = createElements(cocktailsArr);\n\n  document\n    .querySelector('.random-cocktail__list')\n    .insertAdjacentHTML('beforeend', cocktailElementsArr.join(''));\n  document.getElementById('content').removeAttribute('hidden');\n}\n\nfunction createElements(cocktails) {\n  const elementsArr = cocktails.map(cocktail => {\n    return createPic(cocktail);\n  });\n\n  return elementsArr;\n}\n\nfunction createPic(picture) {\n  if (localStorage.getItem('favCocktails').includes(`${picture.idDrink}`)) {\n    return `<li class=\"random-cocktail__item\" id=\"${picture.idDrink}\">\n  <img class=\"random-cocktail__image\" src=\"${picture.strDrinkThumb}\" alt=\"${picture.strCategory}\" loading=\"lazy\" width=0 heigth=0/><h3 class=\"random-cocktail__uppertext theme_text_color\" name=\"cocktailName\">${picture.strDrink}</h3><div class=\"random-cocktail__btn\">${LEARN_MORE_BTN}${REMOVE_BTN}</div></li></div></div>`;\n  } else {\n    return `<li class=\"random-cocktail__item\" id=\"${picture.idDrink}\">\n  <img class=\"random-cocktail__image\" src=\"${picture.strDrinkThumb}\" alt=\"${picture.strCategory}\" loading=\"lazy\" width=0 heigth=0/><h3 class=\"random-cocktail__uppertext theme_text_color\" name=\"cocktailName\">${picture.strDrink}</h3><div class=\"random-cocktail__btn\">${LEARN_MORE_BTN}${ADD_BTN}</div></li></div></div>`;\n  }\n}\n"],"names":["parcelRequire","$8104eaf635438c6c$var$favCocktailsList","document","querySelector","$8104eaf635438c6c$var$headerForm","$8104eaf635438c6c$var$burgerForm","$8104eaf635438c6c$var$mobileMenu","$8104eaf635438c6c$var$closeModalBtn","$8104eaf635438c6c$var$scrollTarget","$8104eaf635438c6c$export$609daad9d42484c8","JSON","parse","localStorage","getItem","$8104eaf635438c6c$var$createElements","cocktails","map","cocktail","picture","includes","concat","idDrink","strDrinkThumb","strCategory","strDrink","$4s6iC","LEARN_MORE_BTN","REMOVE_BTN","ADD_BTN","window","onload","cocktailsArr","length","removeAttribute","style","display","cocktailElementsArr","insertAdjacentHTML","join","getElementById","$8104eaf635438c6c$var$renderCocktailsBySD","addEventListener","ev","target","closest","classList","contains","remove","liChildrenCount","Array","from","children","preventDefault","headerFormValue","headerinput","value","toLowerCase","cocktailsSDArr","collectedWordsArray","split","cocktailsToParse","forEach","wordsArr","wordsArrIndex","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","word","push","err","return","cocktailIndex","innerHTML","burgerFormValue","burgerinput","scrollIntoView","behavior"],"version":3,"file":"fav_cocktails.41a12899.js.map"}