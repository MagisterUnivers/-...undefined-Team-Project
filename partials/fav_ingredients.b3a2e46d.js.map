{"mappings":"oeAAAA,EAAA,S,2CAMA,MAAMC,EAAgBC,SAASC,cAAc,0BACvCC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,oBAAsB,GAExE,SAASC,IACP,MAAMC,EAAiBR,SAASC,cAAc,6BAC1CC,EAAUO,OACZD,EAAeE,MAAMC,QAAU,OAE/BH,EAAeE,MAAMC,QAAU,O,CAInC,SAASC,IACPb,EAAcc,UAAY,GAC1B,IAAK,MAAMC,KAAYZ,EAAW,CAChC,MAAMa,EAAUD,EAASC,SAAWD,EAASE,cACvCC,EAAKjB,SAASkB,cAAc,MAClCD,EAAGE,UAAUC,IAAI,yBACjBH,EAAGJ,UAAY,sDAAsDC,EAASE,4DAC3CD,wDAE/BM,EAAAC,iBAAiBD,EAAAE,yBAEHN,EAAGhB,cAAc,oBACzBuB,iBAAiB,SAAS,KAClC,MAAMC,EAAQvB,EAAUwB,WACtBC,GACEA,EAAIX,gBAAkBF,EAASE,eAC/BW,EAAIZ,UAAYD,EAASC,UAEzBU,GAAQ,IACVvB,EAAU0B,OAAOH,EAAO,GACxBpB,aAAawB,QAAQ,iBAAkB1B,KAAK2B,UAAU5B,IACtDe,EAAGc,SACHC,EAAAC,OAAOC,KACL,GAAGpB,EAASE,oDAEdT,IACA4B,I,IAGJpC,EAAcqC,YAAYnB,E,CAG5BV,G,CAGF,SAAS4B,IACP,MAAME,EAAUrC,SAASC,cAAc,6BACnCC,EAAUO,OAAS,EACrB4B,EAAQ3B,MAAMC,QAAU,OAExB0B,EAAQ3B,MAAMC,QAAU,O,CAI5BwB,IAEAvB,IAEA0B,OAAOd,iBAAiB,WAAWe,IACf,mBAAdA,EAAMC,KACR5B,GAAqB,IAIzB,MAAM6B,EAAazC,SAASC,cAAc,gBAC1CwC,EAAWjB,iBAAiB,UAE5B,SAA0BkB,GACxBA,EAAGC,iBAEH,MAAMC,EAAkBH,EAAWI,YAAYC,MAAMC,cACrDC,QAAQC,IAAIL,GACZ,MAAMM,EAAuBhD,EAEvBiD,EAAsBD,EAAqBE,KAAIC,GAC9BA,EAAWrC,cAAc+B,cAExBO,MAAM,OAE9BN,QAAQC,IAAIL,EAAgBU,MAAM,MAElC,IAAIC,EAAqB,GAEzBJ,EAAoBK,SAAQ,CAACC,EAAUC,KACrC,IAAK,IAAIC,KAAQF,EACXb,EAAgBU,MAAM,KAAKM,SAASD,IACtCJ,EAAmBM,KAAKH,EAAc,IAK5C,IAAII,EAAiB,GAErB,IAAK,IAAIC,KAAmBR,EAC1BO,EAAeD,KAAKX,EAAqBa,IAK3C,GAFA/D,SAASC,cAAc,0BAA0BY,UAAY,GAE/B,IAA1BiD,EAAerD,OAKjB,OAJAT,SACGC,cAAc,6BACd+D,gBAAgB,eACnBhE,SAASC,cAAc,6BAA6BS,MAAMC,QAAU,SAGpEX,SAASC,cAAc,6BAA6BS,MAAMC,QAAU,OAGtE,MAAMsD,EAaR,SAAwBH,GAYtB,OAXoBA,EAAeV,KAAIC,IACrC,MAAMtC,EAAUsC,EAAWtC,SAAWsC,EAAWrC,cAQjD,MAPW,8EAC0BqC,EAAWrC,8DACXD,4DAE/BM,EAAAC,iBAAiBD,EAAAE,qCAGd,G,CAvBmB2C,CAAeJ,GAE7C3B,IACAnC,SACGC,cAAc,0BACdkE,mBAAmB,YAAaF,EAAsBG,KAAK,KAE9D,MAAMC,EAASrE,SAASC,cAAc,WACtCoE,EAAO3D,MAAM4D,SAAW,WACxBD,EAAO3D,MAAM6D,OAAS,IACtBF,EAAO3D,MAAM8D,MAAQ,M,IAkBvBxE,SAASC,cAAc,kBAAkBuB,iBAAiB,SAAS,KACjE,MAAMiD,EAAQzE,SAASC,cAAc,yBAAyByE,aAC9D,EAAAC,EAAAC,mBAAkBH,GAClBE,EAAAE,iBAAiB1D,UAAU2D,OAAO,YAAY","sources":["src/js/fav_ingredients.js"],"sourcesContent":["import '../partials/components/switcher_theme_button/switcher_theme_button.ts';\nimport { LEARN_MORE_BTN, REMOVE_BTN } from './constants.js';\nimport { getIngredientData, modalIngredients } from './modal-ingredients';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport 'notiflix/dist/notiflix-3.2.6.min.css';\n\nconst favoritesList = document.querySelector('.fav-ingredients__list');\nconst favorites = JSON.parse(localStorage.getItem('favIngredients')) || [];\n\nfunction defaultAppearance() {\n  const defaultSection = document.querySelector('.fav-ingredients__default');\n  if (favorites.length) {\n    defaultSection.style.display = 'none';\n  } else {\n    defaultSection.style.display = 'block';\n  }\n}\n\nfunction renderFavoritesList() {\n  favoritesList.innerHTML = '';\n  for (const favorite of favorites) {\n    const strType = favorite.strType || favorite.strIngredient;\n    const li = document.createElement('li');\n    li.classList.add('fav-ingredients__item');\n    li.innerHTML = `<h3 class=\"fav-ingredient__name theme_text_color \">${favorite.strIngredient}</h3>\n    <h4 class=\"fav-ingredient__type\">${strType}</h4>\n    <div class=\"fav-ingredient__btn\">\n      ${LEARN_MORE_BTN}${REMOVE_BTN}\n    </div>`;\n    const removeBtn = li.querySelector('.btn-remove-from');\n    removeBtn.addEventListener('click', () => {\n      const index = favorites.findIndex(\n        fav =>\n          fav.strIngredient === favorite.strIngredient &&\n          fav.strType === favorite.strType\n      );\n      if (index > -1) {\n        favorites.splice(index, 1);\n        localStorage.setItem('favIngredients', JSON.stringify(favorites));\n        li.remove();\n        Notify.info(\n          `${favorite.strIngredient} was removed from your favoritesðŸ™„!`\n        );\n        defaultAppearance();\n        handleWrapper();\n      }\n    });\n    favoritesList.appendChild(li);\n  }\n\n  defaultAppearance();\n}\n\nfunction handleWrapper() {\n  const wrapper = document.querySelector('.fav-ingredients__wrapper');\n  if (favorites.length > 4) {\n    wrapper.style.display = 'none';\n  } else {\n    wrapper.style.display = 'block';\n  }\n}\n\nhandleWrapper();\n\nrenderFavoritesList();\n\nwindow.addEventListener('storage', event => {\n  if (event.key === 'favIngredients') {\n    renderFavoritesList();\n  }\n});\n\nconst headerForm = document.querySelector('.header-form');\nheaderForm.addEventListener('submit', onSubmitBtnClick);\n\nfunction onSubmitBtnClick(ev) {\n  ev.preventDefault();\n\n  const headerFormValue = headerForm.headerinput.value.toLowerCase();\n  console.log(headerFormValue);\n  const ingredientsRenderArr = favorites;\n\n  const collectedWordsArray = ingredientsRenderArr.map(ingredient => {\n    let ingredientName = ingredient.strIngredient.toLowerCase();\n\n    return ingredientName.split(' ');\n  });\n  console.log(headerFormValue.split(' '));\n\n  let ingredientsToParse = [];\n\n  collectedWordsArray.forEach((wordsArr, wordsArrIndex) => {\n    for (let word of wordsArr) {\n      if (headerFormValue.split(' ').includes(word)) {\n        ingredientsToParse.push(wordsArrIndex);\n      }\n    }\n  });\n\n  let ingredientsArr = [];\n\n  for (let ingredientIndex of ingredientsToParse) {\n    ingredientsArr.push(ingredientsRenderArr[ingredientIndex]);\n  }\n\n  document.querySelector('.fav-ingredients__list').innerHTML = '';\n\n  if (ingredientsArr.length === 0) {\n    document\n      .querySelector('.fav-ingredients__default')\n      .removeAttribute('hidden');\n    document.querySelector('.fav-ingredients__wrapper').style.display = 'block';\n    return;\n  } else {\n    document.querySelector('.fav-ingredients__wrapper').style.display = 'none';\n  }\n\n  const ingredientElementsArr = createElements(ingredientsArr);\n\n  handleWrapper();\n  document\n    .querySelector('.fav-ingredients__list')\n    .insertAdjacentHTML('beforeend', ingredientElementsArr.join(''));\n\n  const footer = document.querySelector('.footer');\n  footer.style.position = 'absolute';\n  footer.style.bottom = '0';\n  footer.style.width = '100%';\n}\n\nfunction createElements(ingredientsArr) {\n  const elementsArr = ingredientsArr.map(ingredient => {\n    const strType = ingredient.strType || ingredient.strIngredient;\n    const li = `<li class=\"fav-ingredients__item\">\n      <h3 class=\"fav-ingredient__name\">${ingredient.strIngredient}</h3>\n      <h4 class=\"fav-ingredient__type\">${strType}</h4>\n      <div class=\"fav-ingredient__btn\">\n        ${LEARN_MORE_BTN}${REMOVE_BTN}\n      </div>\n    </li>`;\n    return li;\n  });\n  return elementsArr;\n}\n\ndocument.querySelector('.btn-secondary').addEventListener('click', () => {\n  const stuff = document.querySelector('.fav-ingredient__name').textContent;\n  getIngredientData(stuff);\n  modalIngredients.classList.toggle('is-hidden');\n});\n"],"names":["parcelRequire","$4d5ed1596e2b34ed$var$favoritesList","document","querySelector","$4d5ed1596e2b34ed$var$favorites","JSON","parse","localStorage","getItem","$4d5ed1596e2b34ed$var$defaultAppearance","defaultSection","length","style","display","$4d5ed1596e2b34ed$var$renderFavoritesList","innerHTML","favorite","strType","strIngredient","li","createElement","classList","add","$8G1wF","LEARN_MORE_BTN","REMOVE_BTN","addEventListener","index","findIndex","fav","splice","setItem","stringify","remove","$iQIUW","Notify","info","$4d5ed1596e2b34ed$var$handleWrapper","appendChild","wrapper","window","event","key","$4d5ed1596e2b34ed$var$headerForm","ev","preventDefault","headerFormValue","headerinput","value","toLowerCase","console","log","ingredientsRenderArr","collectedWordsArray","map","ingredient","split","ingredientsToParse","forEach","wordsArr","wordsArrIndex","word","includes","push","ingredientsArr","ingredientIndex","removeAttribute","ingredientElementsArr","$4d5ed1596e2b34ed$var$createElements","insertAdjacentHTML","join","footer","position","bottom","width","stuff","textContent","$aJrzc","getIngredientData","modalIngredients","toggle"],"version":3,"file":"fav_ingredients.b3a2e46d.js.map"}