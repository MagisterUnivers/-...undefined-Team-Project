{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,0BAKMC,EAAgBC,SAASC,cAAc,0BACvCC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,oBAAsB,GAExE,SAASC,IACP,IAAMC,EAAiBR,SAASC,cAAc,6BAC1CC,EAAUO,OACZD,EAAeE,MAAMC,QAAU,OAE/BH,EAAeE,MAAMC,QAAU,O,CAInC,SAASC,IACPb,EAAcc,UAAY,G,IACrBC,GAAc,EAAdC,GAAc,EAAdC,OAAcC,E,IAAnB,I,IAAKC,E,gBAAA,IAAMC,EAANC,EAAcC,MACXC,EAAUH,EAASG,SAAWH,EAASI,cACvCC,EAAKxB,SAASyB,cAAc,MAClCD,EAAGE,UAAUC,IAAI,yBACjBH,EAAGX,UAAY,oCACoBe,OADgBT,EAASI,cAAc,gDAGtEK,OAF+BN,EAAQ,wDAEtBM,OAAjB/B,EAAAgC,gBAA4BD,OAAX/B,EAAAiC,WAAW,gBAEdN,EAAGvB,cAAc,oBACzB8B,iBAAiB,SAAS,WAClC,IAAMC,EAAQ9B,EAAU+B,WACtB,SAAAC,G,OACEA,EAAIX,gBAAkBJ,EAASI,eAC/BW,EAAIZ,UAAYH,EAASG,O,IAEzBU,GAAQ,IACV9B,EAAUiC,OAAOH,EAAO,GACxB3B,aAAa+B,QAAQ,iBAAkBjC,KAAKkC,UAAUnC,IACtDsB,EAAGc,SACHC,EAAAC,OAAOC,KACL,GAA0Bb,OAAvBT,EAASI,cAAc,wCAE5BhB,IACAmC,I,IAGJ3C,EAAc4C,YAAYnB,E,EA3BvBoB,EAAkB1C,EAAS2C,OAAAC,cAA3BhC,GAAAI,EAAA0B,EAAcG,QAAAC,MAAdlC,GAAc,EAAAmC,EAAAL,EAAA1B,E,UAAdH,GAAc,EAAdC,EAAckC,C,aAAdpC,GAAc,MAAd8B,EAAcO,QAAdP,EAAcO,Q,YAAdpC,E,MAAAC,C,EA8BLT,G,CAGF,SAASmC,IACP,IAAMU,EAAUpD,SAASC,cAAc,6BACnCC,EAAUO,OAAS,EACrB2C,EAAQ1C,MAAMC,QAAU,OAExByC,EAAQ1C,MAAMC,QAAU,O,CAI5B+B,IAEA9B,IAEAyC,OAAOtB,iBAAiB,WAAW,SAAAuB,GACf,mBAAdA,EAAMC,KACR3C,G,IAIJZ,SAASC,cAAc,kBAAkB8B,iBAAiB,SAAS,WACjE,IAAMyB,EAAQxD,SAASC,cAAc,yBAAyBwD,aAC9D,EAAAC,EAAAC,mBAAkBH,GAClBE,EAAAE,iBAAiBlC,UAAUmC,OAAO,aAClCC,QAAQC,IAAIP,E","sources":["src/js/fav_ingredients.js"],"sourcesContent":["import { LEARN_MORE_BTN, REMOVE_BTN } from './constants.js';\nimport { getIngredientData, modalIngredients } from './modal-ingredients';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport 'notiflix/dist/notiflix-3.2.6.min.css';\n\nconst favoritesList = document.querySelector('.fav-ingredients__list');\nconst favorites = JSON.parse(localStorage.getItem('favIngredients')) || [];\n\nfunction defaultAppearance() {\n  const defaultSection = document.querySelector('.fav-ingredients__default');\n  if (favorites.length) {\n    defaultSection.style.display = 'none';\n  } else {\n    defaultSection.style.display = 'block';\n  }\n}\n\nfunction renderFavoritesList() {\n  favoritesList.innerHTML = '';\n  for (const favorite of favorites) {\n    const strType = favorite.strType || favorite.strIngredient;\n    const li = document.createElement('li');\n    li.classList.add('fav-ingredients__item');\n    li.innerHTML = `<h3 class=\"fav-ingredient__name\">${favorite.strIngredient}</h3>\n    <h4 class=\"fav-ingredient__type\">${strType}</h4>\n    <div class=\"fav-ingredient__btn\">\n      ${LEARN_MORE_BTN}${REMOVE_BTN}\n    </div>`;\n    const removeBtn = li.querySelector('.btn-remove-from');\n    removeBtn.addEventListener('click', () => {\n      const index = favorites.findIndex(\n        fav =>\n          fav.strIngredient === favorite.strIngredient &&\n          fav.strType === favorite.strType\n      );\n      if (index > -1) {\n        favorites.splice(index, 1);\n        localStorage.setItem('favIngredients', JSON.stringify(favorites));\n        li.remove();\n        Notify.info(\n          `${favorite.strIngredient} was removed from your favoritesðŸ™„!`\n        );\n        defaultAppearance();\n        handleWrapper();\n      }\n    });\n    favoritesList.appendChild(li);\n  }\n\n  defaultAppearance();\n}\n\nfunction handleWrapper() {\n  const wrapper = document.querySelector('.fav-ingredients__wrapper');\n  if (favorites.length > 3) {\n    wrapper.style.display = 'none';\n  } else {\n    wrapper.style.display = 'block';\n  }\n}\n\nhandleWrapper();\n\nrenderFavoritesList();\n\nwindow.addEventListener('storage', event => {\n  if (event.key === 'favIngredients') {\n    renderFavoritesList();\n  }\n});\n\ndocument.querySelector('.btn-secondary').addEventListener('click', () => {\n  const stuff = document.querySelector('.fav-ingredient__name').textContent;\n  getIngredientData(stuff);\n  modalIngredients.classList.toggle('is-hidden');\n  console.log(stuff);\n});\n"],"names":["$4s6iC","parcelRequire","$0d59621c972f164e$var$favoritesList","document","querySelector","$0d59621c972f164e$var$favorites","JSON","parse","localStorage","getItem","$0d59621c972f164e$var$defaultAppearance","defaultSection","length","style","display","$0d59621c972f164e$var$renderFavoritesList","innerHTML","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step1","favorite","_step","value","strType","strIngredient","li","createElement","classList","add","concat","LEARN_MORE_BTN","REMOVE_BTN","addEventListener","index","findIndex","fav","splice","setItem","stringify","remove","$h6c0i","Notify","info","$0d59621c972f164e$var$handleWrapper","appendChild","_iterator","Symbol","iterator","next","done","_loop","err","return","wrapper","window","event","key","stuff","textContent","$6alNL","getIngredientData","modalIngredients","toggle","console","log"],"version":3,"file":"fav_ingredients.f991e640.js.map"}