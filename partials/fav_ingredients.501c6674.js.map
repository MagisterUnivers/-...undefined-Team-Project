{"mappings":"sgBAAAA,EAAA,S,iBAGA,MAAMC,EAAgBC,SAASC,cAAc,0BAE7C,SAASC,IACP,MAAMC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,oBAAsB,GACxER,EAAcS,UAAY,GAC1B,IAAK,MAAMC,KAAYN,EAAW,CAChC,MAAMO,EAAKV,SAASW,cAAc,MAClCD,EAAGE,UAAUC,IAAI,yBACjBH,EAAGF,UAAY,oCAAoCC,EAASK,4DACzBL,EAASM,8DAExCC,EAAAC,iBAAiBD,EAAAE,yBAEHR,EAAGT,cAAc,oBACzBkB,iBAAiB,SAAS,KAClC,MAAMC,EAAQjB,EAAUkB,WACtBC,GACEA,EAAIR,gBAAkBL,EAASK,eAC/BQ,EAAIP,UAAYN,EAASM,UAEzBK,GAAQ,IACVjB,EAAUoB,OAAOH,EAAO,GACxBd,aAAakB,QAAQ,iBAAkBpB,KAAKqB,UAAUtB,IACtDO,EAAGgB,S,IAGP3B,EAAc4B,YAAYjB,E,CAG5B,MAAMkB,EAAS5B,SAASC,cAAc,WAChC4B,EAAc7B,SAASC,cAAc,6BACtCE,EAAU2B,QAKbF,EAAOG,MAAMC,SAAW,SACxBH,EAAYI,OAAS,SALrBL,EAAOG,MAAMC,SAAW,WACxBJ,EAAOG,MAAMG,OAAS,IACtBN,EAAOG,MAAMI,MAAQ,O,CAOzBjC,IAEAkC,OAAOjB,iBAAiB,WAAWkB,IACf,mBAAdA,EAAMC,KACRpC,GAAqB,G","sources":["src/js/fav-ingredients.js"],"sourcesContent":["import './add-remove-fav';\nimport { LEARN_MORE_BTN, REMOVE_BTN } from './constants.js';\n\nconst favoritesList = document.querySelector('.fav-ingredients__list');\n\nfunction renderFavoritesList() {\n  const favorites = JSON.parse(localStorage.getItem('favIngredients')) || [];\n  favoritesList.innerHTML = '';\n  for (const favorite of favorites) {\n    const li = document.createElement('li');\n    li.classList.add('fav-ingredients__item');\n    li.innerHTML = `<h3 class=\"fav-ingredient__name\">${favorite.strIngredient}</h3>\n    <h4 class=\"fav-ingredient__type\">${favorite.strType}</h4>\n    <div class=\"fav-ingredient__btn\">\n      ${LEARN_MORE_BTN}${REMOVE_BTN}\n    </div>`;\n    const removeBtn = li.querySelector('.btn-remove-from');\n    removeBtn.addEventListener('click', () => {\n      const index = favorites.findIndex(\n        fav =>\n          fav.strIngredient === favorite.strIngredient &&\n          fav.strType === favorite.strType\n      );\n      if (index > -1) {\n        favorites.splice(index, 1);\n        localStorage.setItem('favIngredients', JSON.stringify(favorites));\n        li.remove();\n      }\n    });\n    favoritesList.appendChild(li);\n  }\n\n  const footer = document.querySelector('.footer');\n  const defaultText = document.querySelector('.fav-ingredients__default');\n  if (!favorites.length) {\n    footer.style.position = 'absolute';\n    footer.style.bottom = '0';\n    footer.style.width = '100%';\n  } else {\n    footer.style.position = 'static';\n    defaultText.hidden = 'true';\n  }\n}\n\nrenderFavoritesList();\n\nwindow.addEventListener('storage', event => {\n  if (event.key === 'favIngredients') {\n    renderFavoritesList();\n  }\n});\n"],"names":["parcelRequire","$4965aecbeeb41b49$var$favoritesList","document","querySelector","$4965aecbeeb41b49$var$renderFavoritesList","favorites","JSON","parse","localStorage","getItem","innerHTML","favorite","li","createElement","classList","add","strIngredient","strType","$8G1wF","LEARN_MORE_BTN","REMOVE_BTN","addEventListener","index","findIndex","fav","splice","setItem","stringify","remove","appendChild","footer","defaultText","length","style","position","hidden","bottom","width","window","event","key"],"version":3,"file":"fav_ingredients.501c6674.js.map"}