{"mappings":"gfACA,IAAAA,EAAAC,EAAA,S,aAGMC,EAAgBC,SAASC,cAAc,0BAE7C,SAASC,IACP,IAAMC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,oBAAsB,GACxER,EAAcS,UAAY,G,IACrBC,GAAc,EAAdC,GAAc,EAAdC,OAAcC,E,IAAnB,I,IAAKC,E,gBAAA,IAAMC,EAANC,EAAcC,MACXC,EAAKjB,SAASkB,cAAc,MAClCD,EAAGE,UAAUC,IAAI,yBACjBH,EAAGT,UAAY,oCACoBa,OADgBP,EAASQ,cAAc,gDAGtED,OAF+BP,EAASS,QAAQ,wDAE/BF,OAAjBxB,EAAA2B,gBAA4BH,OAAXxB,EAAA4B,WAAW,gBAEdR,EAAGhB,cAAc,oBACzByB,iBAAiB,SAAS,WAClC,IAAMC,EAAQxB,EAAUyB,WACtB,SAAAC,G,OACEA,EAAIP,gBAAkBR,EAASQ,eAC/BO,EAAIN,UAAYT,EAASS,O,IAEzBI,GAAQ,IACVxB,EAAU2B,OAAOH,EAAO,GACxBrB,aAAayB,QAAQ,iBAAkB3B,KAAK4B,UAAU7B,IACtDc,EAAGgB,SACHC,OAAOC,KACL,GAA0Bd,OAAvBP,EAASQ,cAAc,wCAE5Bc,I,IAGJrC,EAAcsC,YAAYpB,E,EAzBvBqB,EAAkBnC,EAASoC,OAAAC,cAA3B/B,GAAAI,EAAAyB,EAAcG,QAAAC,MAAdjC,GAAc,EAAAkC,EAAAL,EAAAzB,E,UAAdH,GAAc,EAAdC,EAAciC,C,aAAdnC,GAAc,MAAd6B,EAAcO,QAAdP,EAAcO,Q,YAAdnC,E,MAAAC,C,EA4BL,SAASyB,IACP,IAAMU,EAAS9C,SAASC,cAAc,WAChC8C,EAAc/C,SAASC,cAAc,6BACtCE,EAAU6C,OAKJ7C,EAAU6C,OAAS,GAC5BF,EAAOG,MAAMC,SAAW,WACxBJ,EAAOG,MAAME,OAAS,IACtBL,EAAOG,MAAMG,MAAQ,SAErBN,EAAOG,MAAMC,SAAW,SACxBH,EAAYE,MAAMI,QAAU,SAV5BP,EAAOG,MAAMC,SAAW,WACxBJ,EAAOG,MAAME,OAAS,IACtBL,EAAOG,MAAMG,MAAQ,OACrBL,EAAYE,MAAMI,QAAU,Q,CAWhCjB,G,CAGFlC,IAEAoD,OAAO5B,iBAAiB,WAAW,SAAA6B,GACf,mBAAdA,EAAMC,KACRtD,G,IAIJF,SAASC,cAAc,kBAAkByB,iBAAiB,SAAS,WACjE,IAAM+B,EAAQzD,SAASC,cAAc,yBAAyByD,aAC9D,EAAAC,EAAAC,mBAAkBH,GAClBE,EAAAE,iBAAiB1C,UAAU2C,OAAO,aAClCC,QAAQC,IAAIP,E","sources":["src/js/fav-ingredients.js"],"sourcesContent":["// import './add-remove-fav';\nimport { LEARN_MORE_BTN, REMOVE_BTN } from './constants.js';\nimport { getIngredientData, modalIngredients } from './modal-ingredients';\n\nconst favoritesList = document.querySelector('.fav-ingredients__list');\n\nfunction renderFavoritesList() {\n  const favorites = JSON.parse(localStorage.getItem('favIngredients')) || [];\n  favoritesList.innerHTML = '';\n  for (const favorite of favorites) {\n    const li = document.createElement('li');\n    li.classList.add('fav-ingredients__item');\n    li.innerHTML = `<h3 class=\"fav-ingredient__name\">${favorite.strIngredient}</h3>\n    <h4 class=\"fav-ingredient__type\">${favorite.strType}</h4>\n    <div class=\"fav-ingredient__btn\">\n      ${LEARN_MORE_BTN}${REMOVE_BTN}\n    </div>`;\n    const removeBtn = li.querySelector('.btn-remove-from');\n    removeBtn.addEventListener('click', () => {\n      const index = favorites.findIndex(\n        fav =>\n          fav.strIngredient === favorite.strIngredient &&\n          fav.strType === favorite.strType\n      );\n      if (index > -1) {\n        favorites.splice(index, 1);\n        localStorage.setItem('favIngredients', JSON.stringify(favorites));\n        li.remove();\n        Notify.info(\n          `${favorite.strIngredient} was removed from your favoritesðŸ™„!`\n        );\n        checkFooter();\n      }\n    });\n    favoritesList.appendChild(li);\n  }\n\n  function checkFooter() {\n    const footer = document.querySelector('.footer');\n    const defaultText = document.querySelector('.fav-ingredients__default');\n    if (!favorites.length) {\n      footer.style.position = 'absolute';\n      footer.style.bottom = '0';\n      footer.style.width = '100%';\n      defaultText.style.display = 'block';\n    } else if (favorites.length < 4) {\n      footer.style.position = 'absolute';\n      footer.style.bottom = '0';\n      footer.style.width = '100%';\n    } else {\n      footer.style.position = 'static';\n      defaultText.style.display = 'none';\n    }\n  }\n\n  checkFooter();\n}\n\nrenderFavoritesList();\n\nwindow.addEventListener('storage', event => {\n  if (event.key === 'favIngredients') {\n    renderFavoritesList();\n  }\n});\n\ndocument.querySelector('.btn-secondary').addEventListener('click', () => {\n  const stuff = document.querySelector('.fav-ingredient__name').textContent;\n  getIngredientData(stuff);\n  modalIngredients.classList.toggle('is-hidden');\n  console.log(stuff);\n});\n"],"names":["$4s6iC","parcelRequire","$868bd71daf520935$var$favoritesList","document","querySelector","$868bd71daf520935$var$renderFavoritesList","favorites","JSON","parse","localStorage","getItem","innerHTML","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step1","favorite","_step","value","li","createElement","classList","add","concat","strIngredient","strType","LEARN_MORE_BTN","REMOVE_BTN","addEventListener","index","findIndex","fav","splice","setItem","stringify","remove","Notify","info","checkFooter","appendChild","_iterator","Symbol","iterator","next","done","_loop","err","return","footer","defaultText","length","style","position","bottom","width","display","window","event","key","stuff","textContent","$6alNL","getIngredientData","modalIngredients","toggle","console","log"],"version":3,"file":"fav_ingredients.63252e5f.js.map"}